<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlashMorCoin - Protocolo DeFi</title>
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <style>
        /* ... (todo el CSS permanece igual) ... */
    </style>
</head>
<body>
    <!-- === ZONA 1: LOGO Y NOMBRE === -->
    <header>

        <svg width="200" height="200" viewBox="0 0 200 200">
  <defs>
    <radialGradient id="coinGradient" cx="30%" cy="30%">
      <stop offset="0%" stop-color="#FFD700"/>
      <stop offset="100%" stop-color="#FFA500"/>
    </radialGradient>
  </defs>
  
  <!-- C√≠rculo de la moneda -->
  <circle cx="100" cy="100" r="75" fill="url(#coinGradient)" stroke="#B8860B" stroke-width="3"/>
  
  <!-- Detalles de moneda -->
  <circle cx="100" cy="100" r="60" fill="none" stroke="#DAA520" stroke-width="2" stroke-dasharray="5,5"/>
  
  <!-- Rayo central -->
  <path d="M85 85 L95 95 L90 95 L105 115 L100 115 L115 130 L110 130 L125 145 L120 145 L100 125 L105 125 L90 105 L95 105 Z" 
        fill="#8B4513"/>
  
  <!-- Texto -->
  <text x="100" y="165" text-anchor="middle" fill="#8B4513" font-family="Arial" font-size="18" font-weight="bold">
    FlashMorCoin
  </text>
</svg>

    </header>

    <div class="container">
        <!-- === ZONA 2: CONFIGURACI√ìN DE CONTRATOS === -->
        <div class="card" id="contracts-section" style="display: none;">
            <h2>‚öôÔ∏è Configuraci√≥n de Contratos</h2>
            <div class="grid">
                <div>
                    <h3>üîó Contrato FMC</h3>
                    <p>Estado: <span id="fmc-status" style="color: #FF6B6B;">No configurado</span></p>
                    <!-- üîó CAMBIA LA DIRECCI√ìN DEL CONTRATO FMC AQU√ç -->
                    <input type="text" id="fmc-address" 
                           placeholder="Direcci√≥n del contrato FMC" 
                           value="0xfb146E2601c5F77743E4888E75D6577C2F56bAbb" 
                           style="font-family: monospace;">
                    <button onclick="configureFMC()">‚úÖ Configurar FMC</button>
                </div>
                <div>
                    <h3>üè¶ Contrato Vault</h3>
                    <p>Estado: <span id="vault-status" style="color: #FF6B6B;">No configurado</span></p>
                    <!-- üîó CAMBIA LA DIRECCI√ìN DEL CONTRATO VAULT AQU√ç -->
                    <input type="text" id="vault-address" 
                           placeholder="Direcci√≥n del contrato Vault" 
                           value="0x0371b4dcB192905C9010B2699a061D186AAFf205" 
                           style="font-family: monospace;">
                    <button onclick="configureVault()">‚úÖ Configurar Vault</button>
                </div>
            </div>
        </div>

        <!-- === ZONA 3: TOKENS SOPORTADOS === -->
        <div class="card">
            <h2>ü™ô Tokens Soportados</h2>
            <div class="grid">
                <div>
                    <h3>üí∞ Para Colateral</h3>
                    <ul>
                        <!-- ü™ô CAMBIA LOS TOKENS DE COLATERAL AQU√ç -->
                        <li>USDC</li> 0x5774808c2856f7FDF1A0a8F375A41559794BeF6B  <!-- ‚Üê CAMBIAR TOKENS -->
                        <li>DAI</li>   0x5774808c2856f7FDF1A0a8F375A41559794BeF6B <!-- ‚Üê CAMBIAR TOKENS -->
                        <li>WMATIC</li> 0x5774808c2856f7FDF1A0a8F375A41559794BeF6B<!-- ‚Üê CAMBIAR TOKENS -->
                    </ul>
                </div>
                <div>
                    <h3>üîÑ Para Pagos P2P</h3>
                    <ul>
                        <!-- ü™ô CAMBIA LOS TOKENS DE PAGO AQU√ç -->
                        <li>USDC</li> 0x5774808c2856f7FDF1A0a8F375A41559794BeF6B  <!-- ‚Üê CAMBIAR TOKENS -->
                        <li>DAI</li>  0x5774808c2856f7FDF1A0a8F375A41559794BeF6B  <!-- ‚Üê CAMBIAR TOKENS -->
                    </ul>
                </div>
            </div>
        </div>

        <!-- === ZONA 4: ACCIONES PRINCIPALES === -->
        <div class="grid" id="actions-section" style="display: none;">
            <!-- üè¶ DEPOSITAR -->
            <div class="card">
                <h3>üè¶ Depositar Colateral</h3>
                <!-- üí∞ CAMBIA LOS TOKENS EN EL SELECT AQU√ç -->
                <select id="deposit-token">
                    <option value="usdc">USDC</option>  0x5774808c2856f7FDF1A0a8F375A41559794BeF6B  <!-- ‚Üê CAMBIAR TOKENS -->
                    <option value="dai">DAI</option>   0x5774808c2856f7FDF1A0a8F375A41559794BeF6B   <!-- ‚Üê CAMBIAR TOKENS -->
                    <option value="wmatic">WMATIC</option> 0x5774808c2856f7FDF1A0a8F375A41559794BeF6B <!-- ‚Üê CAMBIAR TOKENS -->
                </select>
                <input type="number" placeholder="Cantidad" id="deposit-amount">
                <button onclick="depositAction()">‚úÖ Depositar</button>
            </div>

            <!-- ü™ô MINTEAR -->
            <div class="card">
                <h3>ü™ô Mintear FMC</h3>
                <p style="font-size: 0.9em; opacity: 0.8;">
                    Genera tokens FMC usando tu colateral
                </p>
                <input type="number" placeholder="Cantidad FMC" id="mint-amount">
                <button onclick="mintAction()">ü™ô Mintear FMC</button>
            </div>

            <!-- üì§ TRANSFERIR -->
            <div class="card">
                <h3>üì§ Transferir FMC</h3>
                <input type="text" placeholder="Direcci√≥n destino (0x...)" id="transfer-address">
                <input type="number" placeholder="Cantidad FMC" id="transfer-amount">
                <button onclick="transferAction()">üì§ Transferir FMC</button>
            </div>
        </div>
    </div>

    <script>
        // ==================== CONFIGURACI√ìN PRINCIPAL ====================
        
        // üîß CAMBIA LAS DIRECCIONES DE CONTRATOS AQU√ç
        const CONTRACT_CONFIG = {
            FMC: "0xfb146E2601c5F77743E4888E75D6577C2F56bAbb", // ‚Üê DIRECCI√ìN FMC REAL
            VAULT: "0x0371b4dcB192905C9010B2699a061D186AAFf205", // ‚Üê DIRECCI√ìN VAULT REAL
            ORACLE: "0x5774808c2856f7FDF1A0a8F375A41559794BeF6B"  // ‚Üê DIRECCI√ìN ORACLE REAL
        };

        // ü™ô CAMBIA LOS TOKENS SOPORTADOS AQU√ç
        const SUPPORTED_TOKENS = {
            USDC: {
                address: "0x5774808c2856f7FDF1A0a8F375A41559794BeF6B",
                name: "USD Coin",
                decimals: 6
            },
            DAI: {
                address: "0x5774808c2856f7FDF1A0a8F375A41559794BeF6B", 
                name: "Dai Stablecoin",
                decimals: 18
            },
            WMATIC: {
                address: "0x5774808c2856f7FDF1A0a8F375A41559794BeF6B",
                name: "Wrapped MATIC",
                decimals: 18
            }
        };

        // üåê CAMBIA LA CONFIGURACI√ìN DE RED AQU√ç
        const NETWORK_CONFIG = {
            chainId: "0xfb146E2601c5F77743E4888E75D6577C2F56bAbb", // Mumbai Testnet
            chainName: "Polygon Mumbai Testnet",
            rpcUrl: "https://rpc-mumbai.maticvigil.com/",
            blockExplorer: "https://mumbai.polygonscan.com/",
            nativeCurrency: {
                name: "MATIC",
                symbol: "MATIC",
                decimals: 18
            }
        };

        // ==================== FUNCIONES DE CONFIGURACI√ìN ====================

        function configureFMC() {
            // üéØ ESTA FUNCI√ìN CONFIGURA EL CONTRATO FMC
            const address = document.getElementById('fmc-address').value;
            if (address && isValidAddress(address)) {
                CONTRACT_CONFIG.FMC = address;
                document.getElementById('fmc-status').textContent = 'Configurado ‚úÖ';
                document.getElementById('fmc-status').style.color = '#4CAF50';
                showSuccess('Contrato FMC configurado correctamente');
                console.log('‚úÖ FMC configurado:', address);
            } else {
                showError('Direcci√≥n de contrato FMC inv√°lida');
            }
        }

        function configureVault() {
            // üéØ ESTA FUNCI√ìN CONFIGURA EL CONTRATO VAULT
            const address = document.getElementById('vault-address').value;
            if (address && isValidAddress(address)) {
                CONTRACT_CONFIG.VAULT = address;
                document.getElementById('vault-status').textContent = 'Configurado ‚úÖ';
                document.getElementById('vault-status').style.color = '#4CAF50';
                showSuccess('Contrato Vault configurado correctamente');
                console.log('‚úÖ Vault configurado:', address);
            } else {
                showError('Direcci√≥n de contrato Vault inv√°lida');
            }
        }

        // ==================== FUNCIONES DE ACCI√ìN ====================

        async function depositAction() {
            // üéØ ESTA FUNCI√ìN MANEJA LOS DEP√ìSITOS
            const token = document.getElementById('deposit-token').value;
            const amount = document.getElementById('deposit-amount').value;
            
            if (!amount || amount <= 0) {
                showError('Ingresa una cantidad v√°lida');
                return;
            }

            showLoading(`Depositando ${amount} ${token.toUpperCase()}...`);
            
            // Simulaci√≥n de transacci√≥n
            setTimeout(() => {
                hideLoading();
                showSuccess(`‚úÖ ${amount} ${token.toUpperCase()} depositado exitosamente`);
                document.getElementById('deposit-amount').value = '';
            }, 2000);
        }

        async function mintAction() {
            // üéØ ESTA FUNCI√ìN MANEJA EL MINTEO DE FMC
            const amount = document.getElementById('mint-amount').value;
            
            if (!amount || amount <= 0) {
                showError('Ingresa una cantidad v√°lida de FMC');
                return;
            }

            showLoading(`Minteando ${amount} FMC...`);
            
            // Simulaci√≥n de transacci√≥n
            setTimeout(() => {
                hideLoading();
                showSuccess(`‚úÖ ${amount} FMC minteados exitosamente`);
                document.getElementById('mint-amount').value = '';
            }, 2000);
        }

        async function transferAction() {
            // üéØ ESTA FUNCI√ìN MANEJA LAS TRANSFERENCIAS
            const toAddress = document.getElementById('transfer-address').value;
            const amount = document.getElementById('transfer-amount').value;
            
            if (!isValidAddress(toAddress)) {
                showError('Direcci√≥n destino inv√°lida');
                return;
            }

            if (!amount || amount <= 0) {
                showError('Ingresa una cantidad v√°lida');
                return;
            }

            showLoading(`Enviando ${amount} FMC...`);
            
            // Simulaci√≥n de transacci√≥n
            setTimeout(() => {
                hideLoading();
                showSuccess(`‚úÖ ${amount} FMC enviados a ${toAddress.slice(0,8)}...`);
                document.getElementById('transfer-address').value = '';
                document.getElementById('transfer-amount').value = '';
            }, 2000);
        }

        // ==================== FUNCIONES DE VALIDACI√ìN ====================

        function isValidAddress(address) {
            // üéØ ESTA FUNCI√ìN VALIDA DIRECCIONES DE CONTRATOS
            return /^0x[a-fA-F0-9]{40}$/.test(address);
        }

        // ==================== FUNCIONES DE UI (NO CAMBIAR) ====================

        async function connectWallet() {
            // ... (c√≥digo de conexi√≥n permanece igual)
        }

        function showLoading(message) {
            // ... (c√≥digo de loading permanece igual)
        }

        function hideLoading() {
            // ... (c√≥digo de loading permanece igual)
        }

        function showSuccess(message) {
            // ... (c√≥digo de √©xito permanece igual)
        }

        function showError(message) {
            // ... (c√≥digo de error permanece igual)
        }

        // ==================== INICIALIZACI√ìN ====================
        window.addEventListener('load', function() {
            console.log('üöÄ FlashMorCoin - Configuraci√≥n cargada:');
            console.log('üìã Contratos:', CONTRACT_CONFIG);
            console.log('ü™ô Tokens:', SUPPORTED_TOKENS);
            console.log('üåê Red:', NETWORK_CONFIG);
            
            // Rellenar direcciones por defecto
            document.getElementById('fmc-address').value = CONTRACT_CONFIG.FMC;
            document.getElementById('vault-address').value = CONTRACT_CONFIG.VAULT;
        });
    </script>
</body>
</html>