<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FlashMorCoin FMC - Blockchain Autom√°tica</title>
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            background: linear-gradient(135deg, #0f1b3a 0%, #1a2a6c 50%, #2d1b69 100%);
            color: white; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            line-height: 1.6;
        }
        
        .container { 
            max-width: 1400px; 
            margin: 0 auto; 
            padding: 20px; 
        }
        
        /* Header */
        header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            background: rgba(255,255,255,0.05);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 20px 40px;
            margin-bottom: 30px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .fmc-logo {
            width: 60px;
            height: 60px;
            background: radial-gradient(circle at 30% 30%, #FFD700, #FFA500, #FF8C00);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 20px rgba(255, 165, 0, 0.5);
            border: 2px solid #FFA500;
        }

        .logo-design {
            text-align: center;
            color: #8B4513;
            text-shadow: 1px 1px 2px rgba(255, 215, 0, 0.5);
        }

        .logo-symbol {
            font-size: 20px;
            font-weight: bold;
        }

        .logo-text {
            font-size: 9px;
            font-weight: bold;
            letter-spacing: 1px;
        }
        
        .brand-text {
            font-size: 2.2rem;
            font-weight: 800;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* Cards */
        .card { 
            background: rgba(255,255,255,0.05); 
            backdrop-filter: blur(15px);
            padding: 30px; 
            border-radius: 20px; 
            margin: 25px 0; 
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .action-btn { 
            background: linear-gradient(45deg, #FF6B35, #F7931E);
            color: white; 
            border: none; 
            padding: 15px 25px; 
            border-radius: 12px; 
            cursor: pointer; 
            margin: 12px 0; 
            font-weight: 600; 
            width: 100%;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(255, 107, 53, 0.4);
        }
        
        .action-btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .secondary-btn {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .secondary-btn:hover {
            background: rgba(255,255,255,0.2);
        }
        
        /* Blockchain Visualization */
        .blockchain-visualization {
            display: flex;
            overflow-x: auto;
            gap: 15px;
            padding: 20px 0;
            margin: 20px 0;
        }
        
        .block {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            border-radius: 12px;
            padding: 20px;
            min-width: 200px;
            border: 2px solid #FF6B35;
            position: relative;
            animation: pulse 2s infinite;
        }
        
        .block.new-block {
            animation: newBlockGlow 1.5s ease-out;
        }
        
        .block-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }
        
        .block-number {
            font-weight: bold;
            color: #FF6B35;
            font-size: 1.2rem;
        }
        
        .block-hash {
            font-family: monospace;
            font-size: 0.8rem;
            background: rgba(0,0,0,0.3);
            padding: 5px;
            border-radius: 5px;
            margin: 5px 0;
            word-break: break-all;
        }
        
        .block-transactions {
            margin-top: 10px;
        }
        
        .transaction {
            background: rgba(255,255,255,0.1);
            padding: 8px;
            border-radius: 5px;
            margin: 5px 0;
            font-size: 0.8rem;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 10px rgba(255,107,53,0.5); }
            50% { box-shadow: 0 0 20px rgba(255,107,53,0.8); }
            100% { box-shadow: 0 0 10px rgba(255,107,53,0.5); }
        }
        
        @keyframes newBlockGlow {
            0% { transform: scale(1); box-shadow: 0 0 20px rgba(0,210,106,0.8); }
            50% { transform: scale(1.05); box-shadow: 0 0 30px rgba(0,210,106,1); }
            100% { transform: scale(1); box-shadow: 0 0 10px rgba(255,107,53,0.5); }
        }
        
        /* Auto Connect Status */
        .auto-connect-status {
            background: rgba(0, 210, 106, 0.1);
            border: 1px solid rgba(0, 210, 106, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .auto-connect-status.error {
            background: rgba(255, 77, 77, 0.1);
            border: 1px solid rgba(255, 77, 77, 0.3);
        }
        
        .auto-connect-status.warning {
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid rgba(255, 193, 7, 0.3);
        }
        
        /* Blockchain Stats */
        .blockchain-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #FF6B35;
            margin: 10px 0;
        }
        
        .stat-label {
            color: rgba(255,255,255,0.7);
            font-size: 0.9rem;
        }
        
        /* Send FMC Section */
        .send-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        @media (max-width: 768px) {
            .send-container {
                grid-template-columns: 1fr;
            }
        }
        
        .p2p-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .form-control {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 12px 15px;
            color: white;
            font-size: 16px;
        }
        
        .form-control:focus {
            outline: none;
            border-color: #FF6B35;
        }
        
        .transaction-details {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .transaction-details h3 {
            margin-bottom: 15px;
            color: #FF6B35;
        }
        
        .detail-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .detail-row:last-child {
            border-bottom: none;
        }
        
        /* Quick Actions */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .quick-action-btn {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .quick-action-btn:hover {
            background: rgba(255,255,255,0.1);
            transform: translateY(-3px);
        }
        
        .quick-action-icon {
            font-size: 30px;
            margin-bottom: 10px;
            color: #FF6B35;
        }
        
        /* Top Cryptos */
        .crypto-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .crypto-card {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 20px;
            transition: all 0.3s ease;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .crypto-card:hover {
            transform: translateY(-5px);
            background: rgba(255,255,255,0.08);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .crypto-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .crypto-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }
        
        .crypto-name {
            font-weight: 600;
            font-size: 18px;
        }
        
        .crypto-symbol {
            color: rgba(255,255,255,0.7);
            font-size: 14px;
        }
        
        .crypto-price {
            font-size: 20px;
            font-weight: 700;
            margin: 10px 0;
        }
        
        .crypto-change {
            font-size: 14px;
            font-weight: 600;
        }
        
        .positive {
            color: #00d26a;
        }
        
        .negative {
            color: #ff4d4d;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #0f1b3a 0%, #1a2a6c 100%);
            border-radius: 20px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #FF6B35;
        }
        
        .close-modal {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .success-animation {
            text-align: center;
            margin: 20px 0;
        }
        
        .checkmark {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: block;
            stroke-width: 2;
            stroke: #00d26a;
            stroke-miterlimit: 10;
            margin: 0 auto;
            box-shadow: inset 0px 0px 0px #00d26a;
            animation: fill .4s ease-in-out .4s forwards, scale .3s ease-in-out .9s both;
        }
        
        .checkmark__circle {
            stroke-dasharray: 166;
            stroke-dashoffset: 166;
            stroke-width: 2;
            stroke-miterlimit: 10;
            stroke: #00d26a;
            fill: none;
            animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;
        }
        
        .checkmark__check {
            transform-origin: 50% 50%;
            stroke-dasharray: 48;
            stroke-dashoffset: 48;
            animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards;
        }
        
        @keyframes stroke {
            100% {
                stroke-dashoffset: 0;
            }
        }
        
        @keyframes scale {
            0%, 100% {
                transform: none;
            }
            50% {
                transform: scale3d(1.1, 1.1, 1);
            }
        }
        
        @keyframes fill {
            100% {
                box-shadow: inset 0px 0px 0px 30px #00d26a;
            }
        }
        
        /* Footer */
        footer {
            text-align: center;
            padding: 30px 0;
            margin-top: 50px;
            border-top: 1px solid rgba(255,255,255,0.1);
            color: rgba(255,255,255,0.6);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .brand-text {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo-container">
                <div class="fmc-logo">
                    <div class="logo-design">
                        <div class="logo-symbol">‚ö°</div>
                        <div class="logo-text">FMC</div>
                    </div>
                </div>
                <div class="brand-text">FlashMorCoin FMC</div>
            </div>
            
            <div class="wallet-info" id="wallet-info" style="display: none;">
                <div><strong>‚úÖ Conectado:</strong> <span id="wallet-address"></span></div>
                <div><strong>üåê Red:</strong> <span id="network-name">-</span></div>
                <div><strong>üí∞ Balance FMC:</strong> <span id="fmc-balance">0</span></div>
            </div>
            
            <button class="action-btn" id="connect-wallet-btn" style="width: auto; padding: 10px 20px;">
                <i class="fas fa-wallet"></i> Conectando...
            </button>
        </header>

        <!-- Estado de Conexi√≥n Autom√°tica -->
        <div class="card">
            <h1><i class="fas fa-robot"></i> Sistema Autom√°tico de Blockchain</h1>
            <div id="auto-connect-status" class="auto-connect-status">
                <i class="fas fa-sync fa-spin"></i>
                <span>Iniciando blockchain autom√°tica...</span>
            </div>
            
            <div class="blockchain-stats">
                <div class="stat-card">
                    <div class="stat-label">Bloques Generados</div>
                    <div class="stat-value" id="blocks-generated">0</div>
                    <div class="stat-label">En tiempo real</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Transacciones</div>
                    <div class="stat-value" id="total-transactions">0</div>
                    <div class="stat-label">Procesadas</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Tiempo Promedio</div>
                    <div class="stat-value" id="avg-block-time">0s</div>
                    <div class="stat-label">Por bloque</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Red Activa</div>
                    <div class="stat-value" id="active-network">FMC</div>
                    <div class="stat-label">Blockchain</div>
                </div>
            </div>
        </div>

        <!-- Visualizaci√≥n de Blockchain en Tiempo Real -->
        <div class="card">
            <h1><i class="fas fa-cube"></i> Blockchain en Tiempo Real</h1>
            <p>Generaci√≥n autom√°tica de bloques cada 10 segundos</p>
            
            <div class="blockchain-visualization" id="blockchain-visualization">
                <!-- Los bloques se generar√°n autom√°ticamente aqu√≠ -->
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <button class="action-btn secondary-btn" id="pause-blocks">
                    <i class="fas fa-pause"></i> Pausar Generaci√≥n
                </button>
            </div>
        </div>

        <!-- Acciones R√°pidas -->
        <div class="card">
            <h1><i class="fas fa-bolt"></i> Acciones R√°pidas Autom√°ticas</h1>
            <p>Todas las funciones se ejecutan autom√°ticamente</p>
            
            <div class="quick-actions">
                <div class="quick-action-btn" id="auto-send-btn">
                    <div class="quick-action-icon"><i class="fas fa-paper-plane"></i></div>
                    <div>Env√≠o Autom√°tico</div>
                    <small>Activado</small>
                </div>
                <div class="quick-action-btn" id="auto-receive-btn">
                    <div class="quick-action-icon"><i class="fas fa-qrcode"></i></div>
                    <div>Recepci√≥n Auto</div>
                    <small>Activo</small>
                </div>
                <div class="quick-action-btn" id="auto-buy-btn">
                    <div class="quick-action-icon"><i class="fas fa-shopping-cart"></i></div>
                    <div>Compra Autom√°tica</div>
                    <small>Configurado</small>
                </div>
                <div class="quick-action-btn" id="auto-swap-btn">
                    <div class="quick-action-icon"><i class="fas fa-exchange-alt"></i></div>
                    <div>Swap Autom√°tico</div>
                    <small>Programado</small>
                </div>
            </div>
        </div>

        <!-- Secci√≥n de Env√≠o Autom√°tico -->
        <div class="card">
            <h1><i class="fas fa-paper-plane"></i> Env√≠o Autom√°tico de FMC</h1>
            <p>El sistema detecta y env√≠a autom√°ticamente</p>
            
            <div class="send-container">
                <div>
                    <div class="p2p-form">
                        <div class="form-group">
                            <label for="recipient-address">Direcci√≥n Destino (Auto-detectada)</label>
                            <input type="text" id="recipient-address" class="form-control" placeholder="Se detectar√° autom√°ticamente..." readonly>
                        </div>
                        
                        <div class="form-group">
                            <label for="send-amount">Cantidad (Auto-optimizada)</label>
                            <input type="number" id="send-amount" class="form-control" value="10" readonly>
                        </div>
                        
                        <div class="form-group">
                            <label for="send-network">Red Blockchain (Auto-seleccionada)</label>
                            <select id="send-network" class="form-control" disabled>
                                <option value="fmc" selected>FlashMorChain (FMC)</option>
                            </select>
                        </div>
                        
                        <div class="auto-connect-status">
                            <i class="fas fa-check-circle"></i>
                            <span>Sistema de env√≠o autom√°tico ACTIVADO</span>
                        </div>
                        
                        <button class="action-btn" id="send-fmc-btn">
                            <i class="fas fa-robot"></i> Ejecutar Env√≠o Autom√°tico
                        </button>
                    </div>
                </div>
                
                <div>
                    <h3>Estado del Sistema Autom√°tico</h3>
                    <div class="transaction-details">
                        <div class="detail-row">
                            <span>Wallet Conectada:</span>
                            <span id="auto-wallet-status">Buscando...</span>
                        </div>
                        <div class="detail-row">
                            <span>Red Detectada:</span>
                            <span id="auto-network-status">Escaneando...</span>
                        </div>
                        <div class="detail-row">
                            <span>Balance Disponible:</span>
                            <span id="auto-balance-status">Calculando...</span>
                        </div>
                        <div class="detail-row">
                            <span>√öltima Transacci√≥n:</span>
                            <span id="last-transaction-status">Ninguna</span>
                        </div>
                        <div class="detail-row">
                            <span>Estado del Sistema:</span>
                            <span id="system-status" style="color: #00d26a;">√ìptimo</span>
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px; padding: 15px; background: rgba(0,210,106,0.1); border-radius: 10px; border: 1px solid rgba(0,210,106,0.3);">
                        <h4><i class="fas fa-info-circle"></i> Sistema Autom√°tico</h4>
                        <ul style="padding-left: 20px; margin-top: 10px;">
                            <li>‚úÖ Conexi√≥n autom√°tica a wallets</li>
                            <li>‚úÖ Detecci√≥n autom√°tica de redes</li>
                            <li>‚úÖ Optimizaci√≥n autom√°tica de gas</li>
                            <li>‚úÖ Confirmaciones autom√°ticas</li>
                            <li>‚úÖ Generaci√≥n autom√°tica de bloques</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Secci√≥n de Criptomonedas en Tiempo Real -->
        <div class="card">
            <h1><i class="fas fa-chart-line"></i> Mercado en Tiempo Real</h1>
            <p>Precios actualizados autom√°ticamente cada 5 segundos</p>
            
            <div class="crypto-grid">
                <div class="crypto-card">
                    <div class="crypto-header">
                        <div class="crypto-icon" style="background: linear-gradient(45deg, #F7931A, #F2A900);">
                            <i class="fab fa-bitcoin"></i>
                        </div>
                        <div>
                            <div class="crypto-name">Bitcoin</div>
                            <div class="crypto-symbol">BTC</div>
                        </div>
                    </div>
                    <div class="crypto-price" id="btc-price">$45,230.15</div>
                    <div class="crypto-change positive">+2.34%</div>
                </div>
                
                <div class="crypto-card">
                    <div class="crypto-header">
                        <div class="crypto-icon" style="background: linear-gradient(45deg, #627EEA, #8A92B2);">
                            <i class="fab fa-ethereum"></i>
                        </div>
                        <div>
                            <div class="crypto-name">Ethereum</div>
                            <div class="crypto-symbol">ETH</div>
                        </div>
                    </div>
                    <div class="crypto-price" id="eth-price">$3,210.75</div>
                    <div class="crypto-change positive">+1.78%</div>
                </div>
                
                <div class="crypto-card">
                    <div class="crypto-header">
                        <div class="crypto-icon" style="background: linear-gradient(45deg, #F0B90B, #F8D33A);">
                            <i class="fas fa-coins"></i>
                        </div>
                        <div>
                            <div class="crypto-name">Binance Coin</div>
                            <div class="crypto-symbol">BNB</div>
                        </div>
                    </div>
                    <div class="crypto-price" id="bnb-price">$520.40</div>
                    <div class="crypto-change negative">-0.45%</div>
                </div>
                
                <div class="crypto-card">
                    <div class="crypto-header">
                        <div class="crypto-icon" style="background: linear-gradient(45deg, #FF6B35, #F7931E);">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <div>
                            <div class="crypto-name">FlashMorCoin</div>
                            <div class="crypto-symbol">FMC</div>
                        </div>
                    </div>
                    <div class="crypto-price" id="fmc-price">$0.85</div>
                    <div class="crypto-change positive">+15.67%</div>
                </div>
            </div>
        </div>

        <!-- Modal de Confirmaci√≥n de Transacci√≥n -->
        <div class="modal" id="transaction-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title" id="modal-title">Transacci√≥n Autom√°tica</h3>
                    <button class="close-modal" id="close-modal">&times;</button>
                </div>
                <div id="modal-body">
                    <!-- Contenido din√°mico del modal -->
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer>
            <p>FlashMorCoin FMC - Plataforma Blockchain Autom√°tica Completa</p>
            <p>¬© 2023 Todos los derechos reservados | Generaci√≥n autom√°tica activa</p>
        </footer>
    </div>

    <script>
        // Variables globales
        let web3;
        let currentAccount;
        let currentNetwork;
        let isAutoConnecting = false;
        let blockGenerationInterval;
        let priceUpdateInterval;
        let blocksGenerated = 0;
        let totalTransactions = 0;
        let isBlockGenerationPaused = false;

        // Elementos del DOM
        const connectWalletBtn = document.getElementById('connect-wallet-btn');
        const walletInfo = document.getElementById('wallet-info');
        const walletAddress = document.getElementById('wallet-address');
        const networkName = document.getElementById('network-name');
        const fmcBalance = document.getElementById('fmc-balance');
        const autoConnectStatus = document.getElementById('auto-connect-status');
        
        // Elementos de blockchain
        const blockchainVisualization = document.getElementById('blockchain-visualization');
        const blocksGeneratedElement = document.getElementById('blocks-generated');
        const totalTransactionsElement = document.getElementById('total-transactions');
        const avgBlockTimeElement = document.getElementById('avg-block-time');
        const activeNetworkElement = document.getElementById('active-network');
        const pauseBlocksBtn = document.getElementById('pause-blocks');
        
        // Elementos de env√≠o autom√°tico
        const recipientAddress = document.getElementById('recipient-address');
        const sendAmount = document.getElementById('send-amount');
        const sendNetwork = document.getElementById('send-network');
        const sendFmcBtn = document.getElementById('send-fmc-btn');
        
        // Elementos de estado autom√°tico
        const autoWalletStatus = document.getElementById('auto-wallet-status');
        const autoNetworkStatus = document.getElementById('auto-network-status');
        const autoBalanceStatus = document.getElementById('auto-balance-status');
        const lastTransactionStatus = document.getElementById('last-transaction-status');
        const systemStatus = document.getElementById('system-status');
        
        // Elementos de precios
        const btcPrice = document.getElementById('btc-price');
        const ethPrice = document.getElementById('eth-price');
        const bnbPrice = document.getElementById('bnb-price');
        const fmcPrice = document.getElementById('fmc-price');
        
        // Modal
        const transactionModal = document.getElementById('transaction-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalBody = document.getElementById('modal-body');
        const closeModal = document.getElementById('close-modal');
        
        // Inicializaci√≥n autom√°tica completa
        document.addEventListener('DOMContentLoaded', function() {
            // Configurar todas las funcionalidades autom√°ticas
            setupAutoSystems();
            setupSendValidation();
            setupQuickActions();
            setupModal();
            
            // Iniciar todos los sistemas autom√°ticos
            startAllAutoSystems();
        });
        
        // Configurar sistemas autom√°ticos
        function setupAutoSystems() {
            // Configurar bot√≥n de pausa de bloques
            pauseBlocksBtn.addEventListener('click', toggleBlockGeneration);
            
            // Configurar env√≠o autom√°tico
            sendFmcBtn.addEventListener('click', executeAutoSend);
        }
        
        // Iniciar todos los sistemas autom√°ticos
        function startAllAutoSystems() {
            // 1. Conexi√≥n autom√°tica a wallet
            startAutoConnect();
            
            // 2. Generaci√≥n autom√°tica de bloques
            startBlockGeneration();
            
            // 3. Actualizaci√≥n autom√°tica de precios
            startPriceUpdates();
            
            // 4. Sistema autom√°tico de detecci√≥n
            startAutoDetection();
            
            updateAutoConnectStatus('üöÄ Todos los sistemas autom√°ticos INICIADOS', 'success');
        }
        
        // Sistema de generaci√≥n autom√°tica de bloques
        function startBlockGeneration() {
            // Generar bloque inicial
            generateNewBlock();
            
            // Configurar intervalo para nuevos bloques (cada 10 segundos)
            blockGenerationInterval = setInterval(() => {
                if (!isBlockGenerationPaused) {
                    generateNewBlock();
                }
            }, 10000);
            
            updateAutoConnectStatus('‚õìÔ∏è Generaci√≥n autom√°tica de bloques ACTIVADA', 'success');
        }
        
        // Generar nuevo bloque
        function generateNewBlock() {
            blocksGenerated++;
            const blockNumber = blocksGenerated;
            const blockHash = generateBlockHash();
            const transactions = generateRandomTransactions();
            
            // Actualizar estad√≠sticas
            updateBlockchainStats();
            
            // Crear elemento de bloque
            const blockElement = document.createElement('div');
            blockElement.className = 'block new-block';
            blockElement.innerHTML = `
                <div class="block-header">
                    <div class="block-number">#${blockNumber}</div>
                    <div class="block-time">${getCurrentTime()}</div>
                </div>
                <div class="block-hash">${blockHash}</div>
                <div class="block-transactions">
                    ${transactions.map(tx => `
                        <div class="transaction">
                            ${tx.from} ‚Üí ${tx.to} (${tx.amount} FMC)
                        </div>
                    `).join('')}
                </div>
            `;
            
            // Agregar bloque a la visualizaci√≥n
            blockchainVisualization.appendChild(blockElement);
            
            // Scroll al √∫ltimo bloque
            blockchainVisualization.scrollLeft = blockchainVisualization.scrollWidth;
            
            // Remover clase de animaci√≥n despu√©s de un tiempo
            setTimeout(() => {
                blockElement.classList.remove('new-block');
            }, 2000);
            
            // Limitar a 10 bloques visibles
            if (blockchainVisualization.children.length > 10) {
                blockchainVisualization.removeChild(blockchainVisualization.firstChild);
            }
        }
        
        // Generar hash de bloque aleatorio
        function generateBlockHash() {
            return '0x' + Math.random().toString(16).substring(2, 18) + 
                   Math.random().toString(16).substring(2, 18);
        }
        
        // Generar transacciones aleatorias
        function generateRandomTransactions() {
            const txCount = Math.floor(Math.random() * 3) + 1; // 1-3 transacciones
            const transactions = [];
            
            for (let i = 0; i < txCount; i++) {
                transactions.push({
                    from: `0x${Math.random().toString(16).substring(2, 10)}...`,
                    to: `0x${Math.random().toString(16).substring(2, 10)}...`,
                    amount: (Math.random() * 100).toFixed(2)
                });
                totalTransactions++;
            }
            
            return transactions;
        }
        
        // Actualizar estad√≠sticas de blockchain
        function updateBlockchainStats() {
            blocksGeneratedElement.textContent = blocksGenerated;
            totalTransactionsElement.textContent = totalTransactions;
            avgBlockTimeElement.textContent = '10s';
            activeNetworkElement.textContent = 'FMC Chain';
        }
        
        // Alternar generaci√≥n de bloques
        function toggleBlockGeneration() {
            isBlockGenerationPaused = !isBlockGenerationPaused;
            
            if (isBlockGenerationPaused) {
                pauseBlocksBtn.innerHTML = '<i class="fas fa-play"></i> Reanudar Generaci√≥n';
                updateAutoConnectStatus('‚è∏Ô∏è Generaci√≥n de bloques PAUSADA', 'warning');
            } else {
                pauseBlocksBtn.innerHTML = '<i class="fas fa-pause"></i> Pausar Generaci√≥n';
                updateAutoConnectStatus('‚õìÔ∏è Generaci√≥n de bloques REANUDADA', 'success');
            }
        }
        
        // Sistema de actualizaci√≥n autom√°tica de precios
        function startPriceUpdates() {
            // Actualizar precios inmediatamente
            updateCryptoPrices();
            
            // Configurar intervalo (cada 5 segundos)
            priceUpdateInterval = setInterval(updateCryptoPrices, 5000);
        }
        
        // Actualizar precios de criptomonedas
        function updateCryptoPrices() {
            // Simular fluctuaciones de precios
            const btcChange = (Math.random() - 0.5) * 1000;
            const ethChange = (Math.random() - 0.5) * 100;
            const bnbChange = (Math.random() - 0.5) * 10;
            const fmcChange = (Math.random() - 0.5) * 0.1;
            
            // Actualizar precios con animaci√≥n
            animatePriceChange(btcPrice, 45230.15, btcChange);
            animatePriceChange(ethPrice, 3210.75, ethChange);
            animatePriceChange(bnbPrice, 520.40, bnbChange);
            animatePriceChange(fmcPrice, 0.85, fmcChange);
        }
        
        // Animaci√≥n de cambio de precio
        function animatePriceChange(element, basePrice, change) {
            const newPrice = basePrice + change;
            const isPositive = change >= 0;
            
            element.textContent = `$${newPrice.toFixed(2)}`;
            element.parentElement.querySelector('.crypto-change').className = 
                `crypto-change ${isPositive ? 'positive' : 'negative'}`;
            element.parentElement.querySelector('.crypto-change').textContent = 
                `${isPositive ? '+' : ''}${((change / basePrice) * 100).toFixed(2)}%`;
        }
        
        // Sistema de detecci√≥n autom√°tica
        function startAutoDetection() {
            setInterval(() => {
                updateAutoStatus();
            }, 3000);
        }
        
        // Actualizar estado autom√°tico
        function updateAutoStatus() {
            if (currentAccount) {
                autoWalletStatus.textContent = '‚úÖ Conectada';
                autoWalletStatus.style.color = '#00d26a';
                
                autoNetworkStatus.textContent = '‚úÖ ' + (currentNetwork || 'FMC Network');
                autoNetworkStatus.style.color = '#00d26a';
                
                autoBalanceStatus.textContent = '‚úÖ 1,250.75 FMC';
                autoBalanceStatus.style.color = '#00d26a';
                
                systemStatus.textContent = '√ìptimo';
                systemStatus.style.color = '#00d26a';
                
                // Actualizar direcci√≥n de destino autom√°ticamente
                recipientAddress.value = '0xfb146E2601c5F77743E4888E75D6577C2F56bAbb (Auto-detectada)';
            } else {
                autoWalletStatus.textContent = 'üîç Buscando...';
                autoWalletStatus.style.color = '#FFC107';
            }
        }
        
        // Conexi√≥n autom√°tica a wallet
        async function startAutoConnect() {
            if (isAutoConnecting) return;
            
            isAutoConnecting = true;
            connectWalletBtn.disabled = true;
            
            try {
                await autoConnectToWallet();
            } catch (error) {
                console.error('Error en conexi√≥n autom√°tica:', error);
                handleConnectionError(error);
            } finally {
                isAutoConnecting = false;
                connectWalletBtn.disabled = false;
            }
        }
        
        // Conexi√≥n autom√°tica
        async function autoConnectToWallet() {
            if (typeof window.ethereum !== 'undefined') {
                updateAutoConnectStatus('üîÑ Conectando autom√°ticamente...', 'loading');
                
                try {
                    web3 = new Web3(window.ethereum);
                    
                    const accounts = await window.ethereum.request({ 
                        method: 'eth_accounts' 
                    });
                    
                    if (accounts.length > 0) {
                        currentAccount = accounts[0];
                        const chainId = await web3.eth.getChainId();
                        updateNetworkInfo(chainId);
                        updateWalletInfo();
                        updateAutoConnectStatus('‚úÖ Conexi√≥n autom√°tica EXITOSA', 'success');
                        setupWalletListeners();
                        return;
                    }
                    
                    updateAutoConnectStatus('üîê Solicitando acceso autom√°tico...', 'loading');
                    const newAccounts = await window.ethereum.request({ 
                        method: 'eth_requestAccounts' 
                    });
                    
                    if (newAccounts.length > 0) {
                        currentAccount = newAccounts[0];
                        const chainId = await web3.eth.getChainId();
                        updateNetworkInfo(chainId);
                        updateWalletInfo();
                        updateAutoConnectStatus('‚úÖ Sistema autom√°tico ACTIVADO', 'success');
                        setupWalletListeners();
                    } else {
                        throw new Error('Conexi√≥n autom√°tica rechazada');
                    }
                    
                } catch (error) {
                    if (error.code === 4001) {
                        updateAutoConnectStatus('‚è∏Ô∏è Modo manual activado', 'warning');
                        connectWalletBtn.textContent = 'Conectar Wallet';
                        connectWalletBtn.onclick = manualConnect;
                    } else {
                        throw error;
                    }
                }
                
            } else {
                updateAutoConnectStatus('‚ùå Ejecutando en modo simulaci√≥n', 'warning');
                simulateWalletConnection();
            }
        }
        
        // Simular conexi√≥n de wallet (para demostraci√≥n)
        function simulateWalletConnection() {
            setTimeout(() => {
                currentAccount = '0xfb146E2601c5F77743E4888E75D6577C2F56bAbb;
                updateWalletInfo();
                updateAutoConnectStatus('‚úÖ Modo simulaci√≥n ACTIVO', 'success');
                connectWalletBtn.textContent = 'Desconectar';
                connectWalletBtn.onclick = disconnectWallet;
            }, 2000);
        }
        
        // Configurar listeners de wallet
        function setupWalletListeners() {
            if (window.ethereum) {
                window.ethereum.on('accountsChanged', (accounts) => {
                    if (accounts.length === 0) {
                        resetWalletInfo();
                        updateAutoConnectStatus('üîå Reconectando autom√°ticamente...', 'warning');
                        setTimeout(startAutoConnect, 3000);
                    } else {
                        currentAccount = accounts[0];
                        updateWalletInfo();
                        updateAutoConnectStatus('‚úÖ Cuenta actualizada autom√°ticamente', 'success');
                    }
                });
                
                window.ethereum.on('chainChanged', (chainId) => {
                    updateNetworkInfo(parseInt(chainId, 16));
                    updateAutoConnectStatus('‚úÖ Red cambiada autom√°ticamente', 'success');
                });
            }
        }
        
        // Ejecutar env√≠o autom√°tico
        async function executeAutoSend() {
            if (!currentAccount) {
                showError('Sistema de wallet no detectado. Ejecutando en modo simulaci√≥n...');
                simulateTransaction();
                return;
            }
            
            try {
                showAutoTransactionModal();
            } catch (error) {
                console.error('Error en transacci√≥n autom√°tica:', error);
                showError('Error: ' + error.message + '. Ejecutando simulaci√≥n...');
                simulateTransaction();
            }
        }
        
        // Mostrar modal de transacci√≥n autom√°tica
        function showAutoTransactionModal() {
            modalTitle.textContent = '‚ö° Transacci√≥n Autom√°tica en Progreso';
            
            modalBody.innerHTML = `
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 4rem; margin-bottom: 20px; color: #FF6B35;">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h3>Sistema Autom√°tico Activado</h3>
                    <p>Ejecutando transacci√≥n de forma autom√°tica...</p>
                    <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 10px; margin: 20px 0;">
                        <div><strong>Destino:</strong> 0x742...c3a1 (Auto-detectado)</div>
                        <div><strong>Cantidad:</strong> 10 FMC (Auto-optimizado)</div>
                        <div><strong>Red:</strong> FlashMorChain (Auto-seleccionada)</div>
                        <div><strong>Gas:</strong> 0.0012 ETH (Auto-calculado)</div>
                    </div>
                    <div style="font-size: 3rem; margin: 20px 0;">
                        <i class="fas fa-sync fa-spin"></i>
                    </div>
                    <p>Confirmando transacci√≥n autom√°ticamente...</p>
                </div>
            `;
            
            transactionModal.style.display = 'flex';
            
            // Simular procesamiento autom√°tico
            setTimeout(() => {
                showAutoTransactionSuccess();
            }, 3000);
        }
        
        // Mostrar √©xito de transacci√≥n autom√°tica
        function showAutoTransactionSuccess() {
            modalBody.innerHTML = `
                <div class="success-animation">
                    <div style="font-size: 4rem; margin-bottom: 20px; color: #00d26a;">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h3>¬°Transacci√≥n Autom√°tica Exitosa!</h3>
                    <p>El sistema ha ejecutado la transacci√≥n autom√°ticamente</p>
                    <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; margin: 15px 0;">
                        <div><strong>ID de Transacci√≥n:</strong> 0x${Math.random().toString(16).substring(2, 10)}...</div>
                        <div><strong>Bloque:</strong> #${blocksGenerated}</div>
                        <div><strong>Timestamp:</strong> ${getCurrentTime()}</div>
                    </div>
                    <button class="action-btn" id="close-success">
                        <i class="fas fa-check"></i> Continuar
                    </button>
                </div>
            `;
            
            // Actualizar √∫ltimo estado de transacci√≥n
            lastTransactionStatus.textContent = `‚úÖ ${getCurrentTime()}`;
            lastTransactionStatus.style.color = '#00d26a';
            
            document.getElementById('close-success').addEventListener('click', () => {
                transactionModal.style.display = 'none';
            });
        }
        
        // Simular transacci√≥n (fallback)
        function simulateTransaction() {
            showAutoTransactionModal();
        }
        
        // Configuraci√≥n de validaci√≥n de env√≠o
        function setupSendValidation() {
            // Todas las validaciones son autom√°ticas
        }
        
        // Configuraci√≥n de acciones r√°pidas
        function setupQuickActions() {
            // Todas las acciones son autom√°ticas
        }
        
        // Configuraci√≥n del modal
        function setupModal() {
            closeModal.addEventListener('click', () => {
                transactionModal.style.display = 'none';
            });
            
            window.addEventListener('click', (e) => {
                if (e.target === transactionModal) {
                    transactionModal.style.display = 'none';
                }
            });
        }
        
        // Conexi√≥n manual
        async function manualConnect() {
            updateAutoConnectStatus('üîÑ Activando modo manual...', 'loading');
            await startAutoConnect();
        }
        
        // Manejar errores de conexi√≥n
        function handleConnectionError(error) {
            console.error('Error de conexi√≥n:', error);
            updateAutoConnectStatus('‚ö†Ô∏è Ejecutando en modo simulaci√≥n', 'warning');
            simulateWalletConnection();
        }
        
        // Actualizar estado de conexi√≥n autom√°tica
        function updateAutoConnectStatus(message, type) {
            const icon = autoConnectStatus.querySelector('i');
            autoConnectStatus.querySelector('span').textContent = message;
            
            autoConnectStatus.className = 'auto-connect-status';
            
            switch(type) {
                case 'loading':
                    icon.className = 'fas fa-sync fa-spin';
                    break;
                case 'success':
                    icon.className = 'fas fa-check-circle';
                    autoConnectStatus.style.background = 'rgba(0, 210, 106, 0.1)';
                    autoConnectStatus.style.border = '1px solid rgba(0, 210, 106, 0.3)';
                    break;
                case 'warning':
                    icon.className = 'fas fa-exclamation-triangle';
                    autoConnectStatus.className += ' warning';
                    break;
                case 'error':
                    icon.className = 'fas fa-times-circle';
                    autoConnectStatus.className += ' error';
                    break;
            }
        }
        
        // Obtener hora actual
        function getCurrentTime() {
            return new Date().toLocaleTimeString();
        }
        
        // Actualizar informaci√≥n de la red
        function updateNetworkInfo(chainId) {
            const networks = {
                1: 'Ethereum Mainnet',
                56: 'Binance Smart Chain',
                137: 'Polygon',
                43114: 'Avalanche'
            };
            
            currentNetwork = networks[chainId] || `FlashMorChain (${chainId})`;
            networkName.textContent = currentNetwork;
        }
        
        // Actualizar informaci√≥n de la wallet
        function updateWalletInfo() {
            if (currentAccount) {
                const formattedAddress = `${currentAccount.substring(0, 6)}...${currentAccount.substring(currentAccount.length - 4)}`;
                walletAddress.textContent = formattedAddress;
                
                walletInfo.style.display = 'block';
                connectWalletBtn.textContent = 'Desconectar';
                connectWalletBtn.onclick = disconnectWallet;
                
                fmcBalance.textContent = '1,250.75 FMC';
            }
        }
        
        // Reiniciar informaci√≥n de la wallet
        function resetWalletInfo() {
            walletInfo.style.display = 'none';
            connectWalletBtn.textContent = 'Conectar Autom√°tico';
            connectWalletBtn.onclick = manualConnect;
            
            currentAccount = null;
            web3 = null;
        }
        
        // Desconectar wallet
        function disconnectWallet() {
            if (window.ethereum && window.ethereum.disconnect) {
                window.ethereum.disconnect();
            }
            resetWalletInfo();
            updateAutoConnectStatus('üîå Modo simulaci√≥n activado', 'warning');
        }
        
        // Mostrar error
        function showError(message) {
            modalTitle.textContent = '‚ö†Ô∏è Sistema Autom√°tico';
            modalBody.innerHTML = `
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 3rem; margin-bottom: 20px; color: #FFC107;">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h3>Modo Simulaci√≥n Activado</h3>
                    <p>${message}</p>
                    <div style="background: rgba(255,193,7,0.1); padding: 15px; border-radius: 8px; margin: 20px 0;">
                        <p>El sistema continuar√° funcionando en modo simulaci√≥n con todas las funciones autom√°ticas.</p>
                    </div>
                    <button class="action-btn" id="close-error" style="margin-top: 20px;">
                        <i class="fas fa-play"></i> Continuar en Simulaci√≥n
                    </button>
                </div>
            `;
            
            transactionModal.style.display = 'flex';
            
            document.getElementById('close-error').addEventListener('click', () => {
                transactionModal.style.display = 'none';
                simulateTransaction();
            });
        }
    </script>
</body>
</html>